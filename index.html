<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recallia ‚Äî Votre m√©moire IA</title>
  <meta name="description" content="Recallia vous rappelle, ex√©cute et prouve. Rappels, factures, courses, anniversaires‚Ä¶ Votre m√©moire augment√©e, en toute simplicit√©." />
  <meta name="theme-color" content="#0A0F1F" />

  <!-- Open Graph / SEO -->
  <meta property="og:title" content="Recallia ‚Äî Votre m√©moire IA" />
  <meta property="og:description" content="Rappels intelligents, actions automatiques, preuves v√©rifiables." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="assets/og-cover.png" />

  <!-- PWA -->
  <link rel="manifest" href="site.webmanifest" />
  <link rel="icon" href="favicon.ico" sizes="any" />
  <link rel="icon" type="image/svg+xml" href="assets/logo.svg" />
  <link rel="apple-touch-icon" href="assets/icon-192.png" />

  <style>
    :root{
      --bg:#0A0F1F;
      --surface:#111827;
      --muted:#1C2433;
      --text:#E6E6E6;
      --sub:#A0A6B3;
      --accent:#00C2CC; /* bleu-cyan Recallia */
      --success:#4FFFB0;
      --danger:#FF4C60;
      --radius:16px;
      --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;line-height:1.5}
    a{color:var(--accent);text-decoration:none}
    .container{max-width:1120px;margin:0 auto;padding:0 20px}
    header{position:sticky;top:0;z-index:40;background:linear-gradient(180deg,rgba(10,15,31,.95),rgba(10,15,31,.7) 70%,rgba(10,15,31,0));backdrop-filter: blur(8px);border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:28px;width:auto}
    .brand strong{letter-spacing:.4px}
    nav ul{display:flex;gap:18px;list-style:none;margin:0;padding:0}
    nav a{color:var(--text);opacity:.9}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:linear-gradient(180deg,var(--muted),#0e1522);color:var(--text);box-shadow:var(--shadow);transition:.2s}
    .btn:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.2)}
    .btn-primary{background:linear-gradient(180deg,#0fe, var(--accent)); color:#032a2e; border-color:transparent}
    .btn-primary:hover{filter:saturate(1.1) brightness(1.02)}
    .chip{display:inline-flex;gap:8px;align-items:center;border:1px solid rgba(255,255,255,.08);background:#0f1626;padding:6px 10px;border-radius:999px;color:var(--sub);font-size:12px}
    main{display:block}
    .hero{padding:76px 0 32px;background:
      radial-gradient(800px 400px at 70% 0%, rgba(0,194,204,.12),transparent),
      radial-gradient(700px 300px at 0% 10%, rgba(0,255,238,.08),transparent)}
    .hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:28px;align-items:center}
    h1{font-size:44px;line-height:1.1;margin:12px 0 12px}
    .lead{font-size:18px;color:var(--sub);max-width:56ch}
    .cta{display:flex;gap:12px;margin-top:20px;flex-wrap:wrap}
    .card{background:linear-gradient(180deg,#0e1522,#0a0f1f);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);box-shadow:var(--shadow)}
    .panel{padding:18px}
    .proof-box{margin-top:14px;border:1px dashed rgba(255,255,255,.18);padding:12px;border-radius:12px;color:var(--sub);font-size:13px}
    .hash{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;color:#8ee;word-break:break-all}
    .section{padding:56px 0;border-top:1px solid rgba(255,255,255,.06)}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .feat{padding:18px}
    .feat h3{margin:8px 0 6px}
    .kpi{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
    .kpi .pill{padding:8px 12px;border-radius:10px;background:#0f1828;border:1px solid rgba(255,255,255,.08);font-size:13px;color:var(--sub)}
    .creator-link{margin-left:8px}
    footer{padding:36px 0;color:var(--sub);border-top:1px solid rgba(255,255,255,.06)}
    /* Mobile */
    @media (max-width:900px){ .hero-grid{grid-template-columns:1fr} h1{font-size:34px} }
  </style>
</head>
<body>
<header>
  <div class="container nav">
    <div class="brand">
      <img src="assets/logo.svg" alt="Recallia" />
      <strong>Recallia</strong>
    </div>
    <nav>
      <ul>
        <li><a href="#fonctionnalites">Fonctionnalit√©s</a></li>
        <li><a href="#securite">S√©curit√©</a></li>
        <li><a href="#app">App</a></li>
        <li><a href="#tarifs">Tarifs</a></li>
        <li><a class="creator-link" href="#createur" id="openCreator">Cr√©ateur üîí</a></li>
      </ul>
    </nav>
  </div>
</header>

<main>
  <!-- HERO -->
  <section class="hero">
    <div class="container hero-grid">
      <div>
        <span class="chip">Preuve-ou-rien ‚Ä¢ Local-first ‚Ä¢ N0‚ÜíN3 + caps</span>
        <h1>Votre m√©moire IA ‚Äî <span id="type"></span></h1>
        <p class="lead">Rappels intelligents, actions automatiques, preuves v√©rifiables. Ne laissez plus rien vous √©chapper : m√©decin, factures, courses, anniversaires‚Ä¶</p>
        <div class="cta">
          <button class="btn btn-primary" id="tryDemo">Essayer maintenant (30s)</button>
          <button class="btn" id="installBtn" hidden>Installer l‚Äôapp</button>
        </div>
        <div class="kpi">
          <span class="pill">TTV m√©dian &lt; 60s</span>
          <span class="pill">VSR ‚â• 90%</span>
          <span class="pill">Couverture preuve 100%</span>
        </div>
      </div>

      <!-- D√©mo / Preuve en 30s -->
      <div class="card panel" aria-labelledby="demoTitle">
        <h2 id="demoTitle" style="margin:0 0 8px">D√©mo ‚Äî cr√©er un rappel</h2>
        <form id="demoForm" autocomplete="off">
          <label for="task">Dites une t√¢che :</label>
          <input id="task" name="task" required placeholder="Ex. Rappelle-moi d‚Äôappeler le m√©decin demain 10h" style="width:100%;margin:8px 0 10px;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#0b1322;color:var(--text)" />
          <button class="btn btn-primary" type="submit">Cr√©er le rappel</button>
        </form>
        <div id="proof" class="proof-box" hidden>
          <div><strong>R√©sultat :</strong> <span id="proofResult">OK</span></div>
          <div><strong>Horodatage :</strong> <span id="proofTs"></span></div>
          <div><strong>Preuve (hash) :</strong> <div class="hash" id="proofHash"></div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Fonctionnalit√©s -->
  <section id="fonctionnalites" class="section">
    <div class="container">
      <h2 style="margin:0 0 12px">Fonctionnalit√©s cl√©s</h2>
      <p class="lead">Recallia mesure ‚Üí propose ‚Üí ex√©cute ‚Üí prouve ‚Äî sous votre contr√¥le.</p>
      <div class="grid-3">
        <div class="card feat">
          <h3>Rappels intelligents</h3>
          <p class="sub">M√©decin, factures, anniversaires, d√©marches‚Ä¶ Rappels contextuels et fiables.</p>
        </div>
        <div class="card feat">
          <h3>Actions automatiques</h3>
          <p class="sub">Emails pr√©-remplis, listes courses, paiements assist√©s, preuves livr√©es.</p>
        </div>
        <div class="card feat">
          <h3>Preuves v√©rifiables</h3>
          <p class="sub">Re√ßus (PDF/EML/ICS/JSON) + SHA-256 + journal d‚Äôaudit cha√Æn√©.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- S√©curit√© -->
  <section id="securite" class="section">
    <div class="container">
      <h2 style="margin:0 0 12px">S√©curit√© & Confidentialit√©</h2>
      <p class="lead">Vos donn√©es = vos donn√©es. Chiffrement, RGPD, export/purge, pas de revente.</p>
      <ul>
        <li>RGPD, consentements granulaires, export & suppression 1-clic</li>
        <li>CSP/HSTS, rotation des cl√©s, surveillance vuln√©rabilit√©s</li>
        <li>Plan PRA/PCA & sauvegardes r√©guli√®res</li>
      </ul>
    </div>
  </section>

  <!-- App / PWA -->
  <section id="app" class="section">
    <div class="container">
      <h2 style="margin:0 0 12px">Application</h2>
      <p class="lead">Installez Recallia comme une app sur votre smartphone (PWA). Fonctionne offline et synchronise vos rappels.</p>
      <button class="btn" id="installBtn2" hidden>Installer l‚Äôapp</button>
    </div>
  </section>

  <!-- Tarifs -->
  <section id="tarifs" class="section">
    <div class="container">
      <h2 style="margin:0 0 12px">Tarifs</h2>
      <div class="grid-3">
        <div class="card feat">
          <h3>Gratuit</h3>
          <p>Rappels essentiels, PWA, notifications.</p>
        </div>
        <div class="card feat">
          <h3>Pro</h3>
          <p>Int√©grations, suggestions proactives, preuves compl√®tes.</p>
        </div>
        <div class="card feat">
          <h3>Entreprise</h3>
          <p>√âquipe, s√©curit√© avanc√©e, support prioritaire.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Cr√©ateur (modale PIN) -->
  <dialog id="creatorModal" style="border:none;border-radius:14px;max-width:720px;width:92%;background:#0d1422;color:var(--text);box-shadow:var(--shadow);">
    <form method="dialog" class="panel">
      <h3 style="margin:0 0 10px">Espace Cr√©ateur üîí</h3>
      <p class="sub" style="color:var(--sub)">Entrez le PIN pour acc√©der aux propositions, alertes et actions.</p>
      <input id="pin" inputmode="numeric" pattern="[0-9]*" maxlength="6" placeholder="PIN (6 chiffres)" style="width:100%;margin:8px 0 12px;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#0b1322;color:var(--text)" />
      <div style="display:flex;gap:10px;justify-content:flex-end">
        <button class="btn" value="cancel">Annuler</button>
        <button class="btn btn-primary" id="enterCreator" value="default">Entrer</button>
      </div>
      <div id="creatorPanel" class="card panel" style="margin-top:12px" hidden>
        <strong>Propositions</strong>
        <ul id="props" style="margin-top:8px"></ul>
        <strong>Alertes</strong>
        <ul id="alerts" style="margin-top:8px"></ul>
        <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
          <button class="btn">Appliquer</button>
          <button class="btn">Planifier</button>
          <button class="btn">Sauvegarder</button>
        </div>
      </div>
    </form>
  </dialog>
</main>

<footer>
  <div class="container" style="display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px">
    <div>¬© <span id="year"></span> Recallia</div>
    <div style="display:flex;gap:16px">
      <a href="#mentions">Mentions l√©gales</a>
      <a href="#privacy">Confidentialit√©</a>
      <a href="#contact">Contact</a>
    </div>
  </div>
</footer>

<script>
  // ---- Typing effect in H1
  const words = ["rappelle", "ex√©cute", "prouve", "apprend"];
  let wi=0, ci=0;
  const typeEl = document.getElementById('type');
  function tick(){
    const w = words[wi];
    ci = (ci+1)%(w.length+12);
    typeEl.textContent = w.slice(0, Math.min(ci, w.length));
    if(ci===w.length+11){ wi = (wi+1)%words.length; ci = 0; }
    requestAnimationFrame(()=>setTimeout(tick, 90));
  } tick();

  // ---- PWA: minimal SW (inline via Blob) + install prompt
  if('serviceWorker' in navigator){
    const swCode = `
self.addEventListener('install', e=>{
  e.waitUntil(caches.open('recallia-v1').then(c=>c.addAll(['./','./index.html','./assets/logo.svg'])));
});
self.addEventListener('activate', e=>self.clients.claim());
self.addEventListener('fetch', e=>{
  const url = new URL(e.request.url);
  if(e.request.method==='GET' && (url.origin===location.origin)){
    e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request)));
  }
});
    `.trim();
    const swURL = URL.createObjectURL(new Blob([swCode],{type:'text/javascript'}));
    navigator.serviceWorker.register(swURL).catch(console.warn);
  }
  let deferredPrompt;
  const installBtn = document.getElementById('installBtn');
  const installBtn2 = document.getElementById('installBtn2');
  window.addEventListener('beforeinstallprompt',(e)=>{
    e.preventDefault();
    deferredPrompt = e;
    [installBtn,installBtn2].forEach(b=>b && (b.hidden=false));
  });
  [installBtn,installBtn2].forEach(btn=>btn?.addEventListener('click', async ()=>{
    if(!deferredPrompt) return;
    deferredPrompt.prompt();
    await deferredPrompt.userChoice;
    deferredPrompt = null;
    [installBtn,installBtn2].forEach(b=>b && (b.hidden=true));
  }));

  // ---- Demo "preuve en 30s"
  const demoForm = document.getElementById('demoForm');
  const proofBox = document.getElementById('proof');
  const proofTs = document.getElementById('proofTs');
  const proofHash = document.getElementById('proofHash');
  const proofResult = document.getElementById('proofResult');
  function sha256(str){
    const enc = new TextEncoder().encode(str);
    return crypto.subtle.digest('SHA-256', enc).then(buf=>{
      return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');
    });
  }
  demoForm.addEventListener('submit', async (e)=>{
    e.preventDefault();
    const task = (document.getElementById('task').value||'').trim();
    if(!task) return;
    const payload = {
      id:'p_'+Date.now(),
      title:'Rappel cr√©√©',
      task,
      timestamp:new Date().toISOString(),
      result:{status:'success', notes:'Simulation OK'}
    };
    const hash = await sha256(JSON.stringify(payload));
    proofTs.textContent = payload.timestamp;
    proofResult.textContent = "OK";
    proofHash.textContent = hash;
    proofBox.hidden = false;
  });

  // ---- Cr√©ateur (PIN -> panneau)
  const creatorModal = document.getElementById('creatorModal');
  const openCreator = document.getElementById('openCreator');
  const enterCreator = document.getElementById('enterCreator');
  const panel = document.getElementById('creatorPanel');
  const pinEl = document.getElementById('pin');
  openCreator?.addEventListener('click', (e)=>{ e.preventDefault(); creatorModal.showModal(); });
  enterCreator?.addEventListener('click', (e)=>{
    e.preventDefault();
    const pin = (pinEl.value||'').trim();
    if(pin.length<4){ alert("PIN invalide."); return; }
    // Stubs de contenu : √† relier plus tard √† l‚Äôassistant cr√©ateur
    panel.hidden = false;
    document.getElementById('props').innerHTML = `
      <li>üîß Activer CSP/HSTS/SRI</li>
      <li>‚öôÔ∏è Ajouter page FAQ + Blog</li>
      <li>üì± Am√©liorer banner installation PWA</li>`;
    document.getElementById('alerts').innerHTML = `
      <li>üõ°Ô∏è Mettez √† jour d√©pendances (Dependabot)</li>
      <li>üß© V√©rifier manifest (ic√¥nes 192/512)</li>`;
  });

  // ---- Divers
  document.getElementById('tryDemo')?.addEventListener('click', ()=>document.getElementById('task').focus());
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
  </html>
