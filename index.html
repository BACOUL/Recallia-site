<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recallia ‚Äî Votre m√©moire IA</title>
  <meta name="description" content="Recallia rappelle, ex√©cute et prouve. Vous validez, on le fait. Chaque action r√©ussie a un re√ßu horodat√© (hash + journal d‚Äôaudit)." />
  <meta name="theme-color" content="#00C2A8" />
  <link rel="manifest" href="manifeste.webmanifest" />
  <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  <style>
    :root{
      --bg:#0E1116; --panel:#131821; --text:#E8F1F2; --muted:#A7B0B5;
      --accent:#00C2A8; --accent-2: rgba(0,194,168,.12);
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,"Helvetica Neue",Arial,sans-serif;}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1120px;margin:0 auto;padding:28px 20px}
    header{display:flex;align-items:center;gap:12px}
    .logo{display:inline-flex;align-items:center;gap:10px}
    .badge{background:var(--accent-2);color:var(--accent);padding:4px 10px;border-radius:999px;font-size:12px}
    nav{margin-left:auto;display:flex;gap:14px;flex-wrap:wrap}
    .btn{background:var(--accent);color:#002d27;border:0;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid #2b333d;color:var(--text)}
    .hero{margin:26px 0 8px;display:grid;gap:18px}
    h1{font-size:clamp(34px,5vw,56px);line-height:1.05;margin:0}
    .lead{color:var(--muted);font-size:18px;max-width:850px}
    .cta{display:flex;gap:12px;flex-wrap:wrap}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin:24px 0}
    .card{background:var(--panel);border:1px solid #1c2430;border-radius:14px;padding:16px}
    .kpi{font-size:13px;color:var(--muted);margin:0 0 6px}
    .kpi strong{color:var(--text)}
    .code{background:#0b0f15;border:1px solid #1c2430;border-radius:12px;padding:14px;overflow:auto;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:13px}
    .section h2{margin:6px 0 10px;font-size:26px}
    footer{margin-top:34px;padding:22px 0;border-top:1px solid #1c2430;color:#8fa1aa;font-size:14px}
    /* PWA install banner */
    #pwaInstall{position:fixed;right:12px;bottom:12px;display:none;background:#101521;border:1px solid #1c2430;border-radius:14px;padding:14px;gap:10px;align-items:center;z-index:20}
    #pwaInstall .btn{padding:10px 14px}
    /* Cr√©ateur (fab + panneau) */
    #creatorFab{position:fixed;right:12px;bottom:82px;background:var(--accent);color:#002d27;border:0;border-radius:999px;padding:10px 14px;font-weight:800;display:none;z-index:20}
    #creator{position:fixed;right:12px;bottom:82px;max-width:420px;width:calc(100% - 24px);display:none;background:#0f141d;border:1px solid #1c2430;border-radius:16px;padding:14px;z-index:21}
    #creator h3{margin:0 0 8px}
    #creator label{font-size:12px;color:#93a0a8}
    #creator input{width:100%;margin:4px 0 12px;padding:10px;border-radius:10px;border:1px solid #233042;background:#0b1119;color:var(--text)}
    #creator .row{display:flex;gap:10px;flex-wrap:wrap}
    #creator .row .btn{flex:1}
    .pill{display:inline-flex;align-items:center;gap:8px;background:var(--accent-2);color:var(--accent);padding:6px 10px;border-radius:999px;font-weight:700}
    .ok{color:#1bd5a6}.warn{color:#ffbe55}
  </style>
  <link rel="manifest" href="/Recallia-site/manifeste.webmanifest">
<meta name="theme-color" content="#00C2A8">
<link rel="icon" sizes="192x192" type="image/png" href="/Recallia-site/ic%C3%B4ne-192.png">
<link rel="apple-touch-icon" href="/Recallia-site/ic%C3%B4ne-192.png">
</head>
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recallia ‚Äî Votre m√©moire IA</title>

  <!-- SEO de base -->
  <meta name="description" content="Recallia rappelle, ex√©cute et prouve. Vous validez, on le fait." />
  <link rel="canonical" href="https://bacoul.github.io/Recallia-site/" />

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Recallia ‚Äî Votre m√©moire IA" />
  <meta property="og:description" content="Rappelle, ex√©cute, prouve (hash + journal)." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://bacoul.github.io/Recallia-site/" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#00C2A8" />

  <!-- Ic√¥nes PWA (noms sans accent) -->
  <link rel="icon" sizes="192x192" href="/icon-192.png" />
  <link rel="icon" sizes="512x512" href="/icon-512.png" />

  <!-- Styles: garde ta feuille inline existante, on ajoute juste 2 petites r√®gles ci-dessous au besoin -->
  <style>
    /* Correctifs mobile rapides */
    header nav { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
    .wrap { max-width: 1100px; margin: 0 auto; padding: 0 16px; }
  </style>
  </head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">
        <div class="pill">R</div>
        <strong>Recallia</strong>
        <span class="badge">v1</span>
      </div>
      <nav>
        <a href="#app" class="btn">Essayer maintenant</a>
        <a href="#preuve" class="btn ghost">Voir une preuve</a>
      </nav>
    </header>

    <section class="hero">
      <h1 id="heroTitle">Votre m√©moire IA qui rappelle, ex√©cute, prouve.</h1>
      <p class="lead" id="heroSub">Vous validez, on le fait. Chaque action r√©ussie a un re√ßu horodat√© (hash + journal d‚Äôaudit).</p>
      <div class="cta">
        <a href="#app" class="btn" id="heroCta">D√©marrer</a>
        <button class="btn ghost" id="installBtn" style="display:none">Installer l‚Äôapp</button>
      </div>
      <div class="cards">
        <div class="card"><p class="kpi">TTV m√©dian</p><h3><strong>&lt; 60 s</strong></h3></div>
        <div class="card"><p class="kpi">VSR</p><h3><strong>&ge; 90 %</strong></h3></div>
        <div class="card"><p class="kpi">Preuve</p><h3><strong>100 % actions r√©ussies</strong></h3></div>
      </div>
    </section>

    <section class="section" id="preuve">
      <h2>Exemple de preuve</h2>
      <div class="code" aria-label="Exemple de re√ßu de preuve">
{
  "id": "p_demo",
  "action_id": "anniv.mail",
  "timestamp": "2025-08-15T12:00:00Z",
  "sha256": "abc123‚Ä¶",
  "result": {"status":"success","notes":"Message envoy√©"}
}
      </div>
    </section>

    <section class="section">
      <h2>Ce que fait Recallia</h2>
      <div class="cards">
        <div class="card"><strong>Rappelle</strong><br /><span class="muted">Anniversaires, rendez-vous, √©ch√©ances.</span></div>
        <div class="card"><strong>Ex√©cute</strong><br /><span class="muted">Envoie d‚Äôemails, formulaires, relances.</span></div>
        <div class="card"><strong>Prouve</strong><br /><span class="muted">Re√ßus JSON/PDF/ICS, horodat√©s + hash.</span></div>
        <div class="card"><strong>Contr√¥le</strong><br /><span class="muted">N0‚ÜíN3, caps ‚Ç¨, temps, risque, pause globale.</span></div>
      </div>
    </section>

    <footer>
      ¬© 2025 Recallia ‚Äî <a href="confidentialite.html">Confidentialit√©</a> ¬∑ <a href="mentions-legales.html">Mentions l√©gales</a>
    </footer>
  </div>

  <!-- Banni√®re d‚Äôinstallation PWA (affich√©e quand dispo) -->
  <div id="pwaInstall" role="dialog" aria-live="polite">
    <div>
      <strong>Installer l‚Äôapp</strong><br/><span style="color:var(--muted)">Acc√®s rapide hors-ligne.</span>
    </div>
    <button class="btn" id="pwaInstallBtn">Installer</button>
  </div>

  <!-- Bouton & panneau Cr√©ateur (PIN) -->
  <button id="creatorFab">üîß Cr√©ateur</button>
  <div id="creator" aria-modal="true" role="dialog">
    <h3>Cr√©ateur (priv√©)</h3>
    <div style="margin-bottom:8px;color:#93a0a8">üîí Saisi PIN pour ouvrir&nbsp;: <code>2718</code></div>
    <div id="creatorLocked" class="row" style="margin-bottom:10px">
      <input id="pin" placeholder="PIN" inputmode="numeric" />
      <button class="btn" id="pinOk">D√©verrouiller</button>
    </div>

    <div id="creatorForm" style="display:none">
      <label>Titre</label><input id="fTitle" />
      <label>Sous-titre</label><input id="fSub" />
      <label>CTA</label><input id="fCta" />
      <label>Couleur d‚Äôaccent (hex)</label><input id="fAccent" placeholder="#00C2A8" />
      <div class="row">
        <button class="btn" id="apply">Appliquer</button>
        <button class="btn ghost" id="propose">Proposer</button>
        <button class="btn ghost" id="save">Sauver</button>
      </div>
      <div style="margin-top:8px;color:#93a0a8">√âtat : <span id="creatorState" class="warn">non sauvegard√©</span></div>
    </div>
  </div>

  <script>
  // ---- Utilitaires
  const $ = s => document.querySelector(s);
  const setAccent = hex => {
    if(!/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(hex||"")) return;
    document.documentElement.style.setProperty('--accent', hex);
    document.documentElement.style.setProperty('--accent-2', hex+'20');
    document.querySelector('meta[name="theme-color"]').setAttribute('content', hex);
  };
  const saveSite = () => {
    localStorage.setItem('recallia.site', JSON.stringify({
      title: $('#heroTitle').textContent,
      sub: $('#heroSub').textContent,
      cta: $('#heroCta').textContent,
      accent: getComputedStyle(document.documentElement).getPropertyValue('--accent').trim()
    }));
    $('#creatorState').textContent = 'sauvegard√©'; $('#creatorState').className='ok';
  };
  const loadSite = () => {
    const s = localStorage.getItem('recallia.site');
    if(!s) return;
    try{
      const v = JSON.parse(s);
      if(v.title) $('#heroTitle').textContent = v.title;
      if(v.sub)   $('#heroSub').textContent   = v.sub;
      if(v.cta)   $('#heroCta').textContent   = v.cta;
      if(v.accent) setAccent(v.accent);
    }catch(e){}
  };

  // ---- PWA : SW + bouton d‚Äôinstallation
  if('serviceWorker' in navigator){ navigator.serviceWorker.register('./sw.js').catch(()=>{}); }
  let deferredPrompt=null;
  window.addEventListener('beforeinstallprompt', (e)=>{
    e.preventDefault(); deferredPrompt = e;
    $('#installBtn').style.display='inline-flex';
    $('#pwaInstall').style.display='flex';
  });
  const doInstall = async ()=>{
    if(!deferredPrompt) return;
    deferredPrompt.prompt();
    await deferredPrompt.userChoice.catch(()=>{});
    $('#pwaInstall').style.display='none';
  };
  $('#installBtn').addEventListener('click',doInstall);
  $('#pwaInstallBtn').addEventListener('click',doInstall);

  // ---- Cr√©ateur (PIN 2718)
  const showFab = ()=>{ $('#creatorFab').style.display='inline-flex'; };
  // Appuyer 5 fois sur le badge pour activer le fab (local)
  let taps=0; document.querySelector('.badge').addEventListener('click',()=>{
    taps++; if(taps>=5){ localStorage.setItem('recallia.creator','1'); showFab(); }
    setTimeout(()=>taps=0,1200);
  });
  if(localStorage.getItem('recallia.creator')==='1') showFab();

  const openCreator = ()=>{
    $('#creator').style.display='block';
    const unlocked = localStorage.getItem('recallia.creator.unlocked')==='1';
    $('#creatorLocked').style.display = unlocked ? 'none':'flex';
    $('#creatorForm').style.display   = unlocked ? 'block':'none';
    if(unlocked){
      $('#fTitle').value = $('#heroTitle').textContent;
      $('#fSub').value   = $('#heroSub').textContent;
      $('#fCta').value   = $('#heroCta').textContent;
      $('#fAccent').value= getComputedStyle(document.documentElement).getPropertyValue('--accent').trim()||'#00C2A8';
    }
  };
  $('#creatorFab').addEventListener('click', openCreator);
  $('#pinOk').addEventListener('click', ()=>{
    if($('#pin').value.trim()==='2718'){
      localStorage.setItem('recallia.creator.unlocked','1');
      $('#creatorLocked').style.display='none';
      $('#creatorForm').style.display='block';
      $('#creatorState').textContent='d√©verrouill√©';
      $('#creatorState').className='ok';
      $('#fTitle').value = $('#heroTitle').textContent;
      $('#fSub').value   = $('#heroSub').textContent;
      $('#fCta').value   = $('#heroCta').textContent;
      $('#fAccent').value= getComputedStyle(document.documentElement).getPropertyValue('--accent').trim()||'#00C2A8';
    } else {
      $('#creatorState').textContent='PIN invalide';
      $('#creatorState').className='warn';
    }
  });
  $('#apply').addEventListener('click',()=>{
    if($('#fTitle').value) $('#heroTitle').textContent = $('#fTitle').value;
    if($('#fSub').value)   $('#heroSub').textContent   = $('#fSub').value;
    if($('#fCta').value)   $('#heroCta').textContent   = $('#fCta').value;
    if($('#fAccent').value) setAccent($('#fAccent').value.trim());
    $('#creatorState').textContent='appliqu√© (non sauvegard√©)';
    $('#creatorState').className='warn';
  });
  $('#save').addEventListener('click', saveSite);
  $('#propose').addEventListener('click', ()=>{
    // 3 propositions simples (offline) selon le contenu actuel
    const base = [
      {
        t:"Votre m√©moire IA ‚Äî encore plus simple.",
        s:"Vous validez, on ex√©cute. Preuve horodat√©e pour chaque action.",
        c:"Commencer",
        a:"#00C2A8"
      },
      {
        t:"Rappelle, ex√©cute, prouve.",
        s:"Anniversaires, rendez-vous, factures‚Ä¶ le tout sous votre contr√¥le.",
        c:"Essayer",
        a:"#60A5FA"
      },
      {
        t:"Ne rien oublier. Jamais.",
        s:"Des rappels intelligents et des actions avec re√ßus v√©rifiables.",
        c:"Activer Recallia",
        a:"#22D3EE"
      }
    ];
    const pick = base[Math.floor(Math.random()*base.length)];
    $('#fTitle').value = pick.t; $('#fSub').value = pick.s; $('#fCta').value = pick.c; $('#fAccent').value = pick.a;
  });

  // Au chargement
  loadSite();
  </script>
  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/Recallia-site/sw.js').catch(console.error);
    });
  }
  </script>
  <!-- PWA: banni√®re "Installer l'app" -->
<div id="pwaInstall" style="display:none;position:fixed;right:12px;bottom:12px;z-index:9999">
  <button id="pwaBtn" class="btn" style="padding:10px 14px;border-radius:10px;background:#00C2A8;color:#0E1116">
    Installer Recallia
  </button>
</div>

<script>
  // Service Worker
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/Recallia-site/sw.js').catch(console.error);
    });
  }

  // Banni√®re "Ajouter √† l'√©cran d'accueil"
  let deferredPrompt;
  const box = document.getElementById('pwaInstall');
  const btn = document.getElementById('pwaBtn');

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    box.style.display = 'block';
  });

  btn?.addEventListener('click', async () => {
    if (!deferredPrompt) return;
    deferredPrompt.prompt();
    await deferredPrompt.userChoice;
    deferredPrompt = null;
    box.style.display = 'none';
  });

  // Masquer si d√©j√† en mode app
  if (window.matchMedia('(display-mode: standalone)').matches) {
    document.getElementById('pwaInstall').style.display = 'none';
  }
</script>
</body>
  </html>
